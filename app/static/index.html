<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aura | Future Health</title>

  <!-- CDNs -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>

  <!-- Icons -->
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="css/style.css?v=32">
</head>

<body>

  <!-- TOAST CONTAINER -->
  <div id="toast-container" class="toast-container"></div>

  <!-- HEADER (Visible on Landing/Login, Hidden on Dashboard via JS) -->
  <header class="main-header" id="main-header">
    <div class="container nav-container">
      <div class="logo">AURA</div>
      <nav class="nav-links">
        <a href="#" class="nav-link" data-nav="landing">Vision</a>
        <a href="#" class="nav-link" data-nav="login">Access</a>
        <a href="#" class="nav-link" data-nav="register">Join</a>
      </nav>
    </div>
  </header>

  <!-- LANDING PAGE -->
  <main id="landingPage">
    <section class="hero-section">
      <div class="hero-bg">
        <div class="hero-orb" style="top: 20%; left: 30%; width: 500px; height: 500px; background: #7000ff;"></div>
        <div class="hero-orb" style="bottom: 10%; right: 20%; width: 400px; height: 400px; background: #00f0ff;"></div>
      </div>

      <div class="hero-content">
        <div class="hero-subtitle">The Next Evolution</div>
        <h1 class="display-text">
          <span class="word"><span>Intelligent</span></span><br>
          <span class="word"><span>Biological</span></span><br>
          <span class="word"><span>Forecasting</span></span>
        </h1>
        <div class="hero-cta" style="margin-top: 3rem;">
          <button class="btn btn-primary" data-nav="register">Initialize System</button>
        </div>
      </div>
    </section>

    <section class="features-section container">
      <h2 class="section-title">System Capabilities</h2>
      <div class="feature-grid">
        <div class="feature-card">
          <i class="ri-brain-line feature-icon"></i>
          <h3 class="feature-title">Neural Prediction</h3>
          <p class="feature-desc">Advanced LSTM networks forecast glucose trends with 94% accuracy, anticipating
            biological shifts before they occur.</p>
        </div>
        <div class="feature-card">
          <i class="ri-pulse-line feature-icon"></i>
          <h3 class="feature-title">Real-time Analysis</h3>
          <p class="feature-desc">Continuous monitoring of physiological data streams to provide instant, actionable
            health intelligence.</p>
        </div>
        <div class="feature-card">
          <i class="ri-shield-star-line feature-icon"></i>
          <h3 class="feature-title">Adaptive Safety</h3>
          <p class="feature-desc">Reinforcement learning agents optimize insulin recommendations while strictly adhering
            to safety protocols.</p>
        </div>
      </div>
    </section>

    <!-- ARCHITECTURE SECTION -->
    <section class="architecture-section container" style="padding: 10rem 0;">
      <div style="display: flex; align-items: center; gap: 4rem; flex-wrap: wrap;">
        <div style="flex: 1; min-width: 300px;">
          <h2 class="section-title" data-reveal>The Architecture</h2>
          <p class="feature-desc" style="margin-bottom: 2rem; font-size: 1.1rem;">
            Aura is built on a dual-core AI engine. The <strong>Prediction Core</strong> utilizes historical data to map
            future glucose trajectories, while the <strong>Decision Core</strong> uses Deep Q-Networks to formulate
            optimal intervention strategies.
          </p>
          <div class="tech-stack" style="display: flex; gap: 1rem; flex-wrap: wrap;">
            <span class="tech-tag">TensorFlow</span>
            <span class="tech-tag">PyTorch</span>
            <span class="tech-tag">Reinforcement Learning</span>
            <span class="tech-tag">Real-time Stream</span>
          </div>
        </div>
        <div class="arch-visual" style="flex: 1; min-width: 300px; height: 400px; position: relative;">
          <div class="neural-structure">
            <div class="neural-core"></div>
            <div class="neural-ring ring-1">
              <div class="neural-node"></div>
            </div>
            <div class="neural-ring ring-2">
              <div class="neural-node"></div>
              <div class="neural-node" style="top: auto; bottom: -6px;"></div>
            </div>
            <div class="neural-ring ring-3">
              <div class="neural-node"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- IMPACT SECTION -->
    <section class="impact-section"
      style="padding: 10rem 0; text-align: center; background: linear-gradient(to top, #050505, #0a0a0a);">
      <div class="container">
        <h2 class="section-title" data-reveal>Global Impact</h2>
        <div class="stats-row"
          style="display: flex; justify-content: center; gap: 4rem; margin-top: 4rem; flex-wrap: wrap;">
          <div class="impact-stat">
            <div class="stat-number display-text" style="font-size: 4rem;">94%</div>
            <div class="stat-label"
              style="color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.1em;">Prediction
              Accuracy</div>
          </div>
          <div class="impact-stat">
            <div class="stat-number display-text" style="font-size: 4rem;">24/7</div>
            <div class="stat-label"
              style="color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.1em;">Monitoring</div>
          </div>
          <div class="impact-stat">
            <div class="stat-number display-text" style="font-size: 4rem;">&lt;0.1s</div>
            <div class="stat-label"
              style="color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.1em;">Latency</div>
          </div>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer style="padding: 4rem 0; border-top: 1px solid rgba(255,255,255,0.05);">
      <div class="container"
        style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 2rem;">
        <div class="logo">AURA</div>
        <div style="display: flex; gap: 2rem;">
          <a href="#" class="nav-link">Privacy</a>
          <a href="#" class="nav-link">Terms</a>
          <a href="#" class="nav-link">Contact</a>
        </div>
        <div style="color: var(--text-secondary); font-size: 0.8rem;">&copy; 2024 Aura Health AI</div>
      </div>
    </footer>
  </main>

  <!-- REGISTER PAGE -->
  <main id="registerPage" class="auth-wrapper hidden">
    <div class="auth-card glass-panel auth-card-wide">
      <h2 style="margin-bottom: 2rem; text-align: center;">Initialize Profile</h2>
      <form id="registerForm" class="register-form-grid">
        <div class="form-group">
          <label class="form-label">Identity / Username</label>
          <input type="text" name="username" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label">Designation / Name</label>
          <input type="text" name="name" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label">Age</label>
          <input type="number" name="age" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label">Gender</label>
          <select name="gender" class="form-input" required>
            <option value="" disabled selected>Select Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Phone Number</label>
          <input type="tel" name="phone_number" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label">Weight (kg)</label>
          <input type="number" step="0.1" name="weight_kg" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label">Height (cm)</label>
          <input type="number" step="0.1" name="height_cm" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label">Access Key / Password</label>
          <input type="password" name="password" class="form-input" required>
        </div>
        <div class="form-group full-width">
          <button type="submit" class="btn btn-primary" style="width: 100%;">Create Entity</button>
        </div>
      </form>
      <div style="text-align: center; margin-top: 1.5rem;">
        <a href="#" data-nav="login" class="nav-link">Access Existing Entity</a>
      </div>
    </div>
  </main>

  <!-- LOGIN PAGE -->
  <main id="loginPage" class="auth-wrapper hidden">
    <div class="auth-card glass-panel">
      <h2 style="margin-bottom: 2rem; text-align: center;">System Access</h2>
      <form id="loginForm">
        <div class="form-group">
          <label class="form-label">Username</label>
          <input type="text" name="username" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label">Password</label>
          <input type="password" name="password" class="form-input" required>
        </div>
        <button type="submit" class="btn btn-primary" style="width: 100%;">Authenticate</button>
      </form>
      <div style="text-align: center; margin-top: 2rem;">
        <a href="#" data-nav="register" class="nav-link">Initialize New Entity</a>
      </div>
    </div>
  </main>

  <!-- DASHBOARD PAGE -->
  <div id="dashboardPage" class="dashboard-layout hidden">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="sidebar-logo">
        <div class="logo-icon"><i class="ri-heart-pulse-line"></i></div>
        <span>AURA</span>
      </div>
      <nav class="sidebar-nav">
        <a href="#" class="sidebar-link active" id="nav-dashboard" data-tooltip="Main dashboard with glucose chart, AI chat, and health metrics" data-tooltip-pos="right">
          <i class="ri-dashboard-3-line"></i>
          <span>Dashboard</span>
        </a>
        <a href="#" class="sidebar-link" id="nav-analytics" data-tooltip="Detailed analytics: weekly trends, glucose distribution, meal & activity logs" data-tooltip-pos="right">
          <i class="ri-line-chart-line"></i>
          <span>Analytics</span>
        </a>
        <a href="#" class="sidebar-link" id="nav-settings" data-tooltip="Configure your profile, glucose targets, and insulin settings" data-tooltip-pos="right">
          <i class="ri-settings-3-line"></i>
          <span>Settings</span>
        </a>
      </nav>
      <div class="sidebar-footer">
        <a href="#" class="sidebar-link" id="nav-logout" data-tooltip="Sign out of your Aura account" data-tooltip-pos="right">
          <i class="ri-logout-circle-r-line"></i>
          <span>Logout</span>
        </a>
      </div>
    </aside>

    <main id="dashboardContainer" class="dashboard-container" data-lenis-prevent>
      <!-- HEADER SECTION -->
      <header class="dashboard-header">
        <div class="user-welcome">
          <div class="user-avatar" data-tooltip="Your personal health profile" data-tooltip-pos="right">
            <i class="ri-user-heart-line"></i>
          </div>
          <div class="welcome-text">
            <h1 id="greeting-text">Good Evening, User!</h1>
            <p id="current-date" class="date-text">Loading...</p>
          </div>
        </div>
        <div class="header-actions">
          <button id="btn-refresh-dashboard" class="action-btn" data-tooltip="Refresh dashboard with latest data" data-tooltip-pos="bottom">
            <i class="ri-refresh-line"></i>
            <span>Refresh</span>
          </button>
          <button id="btn-calibrate" class="action-btn" data-tooltip="Retrain the AI model with your latest glucose data for more accurate predictions" data-tooltip-pos="bottom">
            <i class="ri-brain-line"></i>
            <span>Calibrate AI</span>
          </button>
          <button id="btn-demo-data" class="action-btn" data-tooltip="Generate realistic sample glucose readings to explore dashboard features" data-tooltip-pos="bottom">
            <i class="ri-database-2-line"></i>
            <span>Add Demo Data</span>
          </button>
          <button id="btn-report" class="action-btn primary" data-tooltip="Generate a comprehensive PDF health report with trends, insights, and recommendations" data-tooltip-pos="bottom">
            <i class="ri-file-chart-line"></i>
            <span>Download Report</span>
          </button>
        </div>
      </header>

      <!-- MIDDLE SECTION: GRAPH & CHAT -->
      <section class="dashboard-middle">
        <!-- LEFT: INTERACTIVE GRAPH -->
        <div class="graph-section dashboard-card" data-tooltip="Live visualization of your glucose levels with AI-powered future predictions using LSTM neural networks" data-tooltip-pos="bottom">
          <div class="card-header">
            <div>
              <h3 class="card-title"><i class="ri-heart-pulse-line"></i> Glucose Timeline</h3>
              <p class="card-subtitle">Real-time monitoring & AI predictions</p>
            </div>
            <div class="chart-legend">
              <span class="legend-item" data-tooltip="Past glucose readings from your CGM or manual entries"><span class="legend-dot historical"></span> Historical</span>
              <span class="legend-item" data-tooltip="AI-predicted values using trained LSTM model"><span class="legend-dot predicted"></span> Predicted</span>
              <span class="legend-item" data-tooltip="Safe glucose range (70-180 mg/dL)"><span class="legend-dot range"></span> Target Range</span>
            </div>
          </div>
          <div class="chart-container">
            <canvas id="glucoseChart"></canvas>
          </div>
          <div class="graph-footer">
            <div class="range-info" data-tooltip="Maintaining glucose within this range reduces risk of complications">
              <i class="ri-checkbox-circle-line"></i>
              <span class="range-label">Target Range:</span>
              <span class="range-value">70 - 180 mg/dL</span>
            </div>
          </div>
        </div>

        <!-- RIGHT: AI CHATBOT -->
        <div class="chat-section dashboard-card">
          <div class="card-header">
            <div>
              <h3 class="card-title" data-tooltip="Powered by NLP for natural conversations about your health"><i class="ri-robot-2-line"></i> Aura Assistant</h3>
              <p class="card-subtitle">Your AI Health Companion</p>
            </div>
          </div>
          <div class="chat-messages-wrapper">
            <div id="chat-messages" class="chat-messages-container" data-lenis-prevent>
              <div class="chat-msg ai">
                <div class="chat-avatar">
                  <i class="ri-heart-pulse-fill"></i>
                </div>
                <div class="chat-bubble">
                  <p><strong>ðŸ‘‹ Welcome to Aura!</strong><br><br>
                  I'm your AI-powered diabetes management assistant, built with <em>LSTM neural networks</em> and <em>Natural Language Processing</em>.<br><br>
                  <strong>ðŸš€ What I can do:</strong><br>
                  â€¢ Predict your glucose levels for the next few hours<br>
                  â€¢ Analyze how foods affect your blood sugar<br>
                  â€¢ Track meals, activities & insulin doses<br>
                  â€¢ Provide personalized health insights<br><br>
                  <strong>ðŸ’¬ Try asking me:</strong><br>
                  <span style="color: var(--accent-primary);">"I ate 2 rotis and dal for lunch"</span><br>
                  <span style="color: var(--accent-primary);">"What will my glucose be in 2 hours?"</span><br>
                  <span style="color: var(--accent-primary);">"I went for a 30 min walk"</span><br>
                  <span style="color: var(--accent-primary);">"How is my glucose today?"</span><br><br>
                  <em style="color: var(--text-secondary);">ðŸ”¬ Tip: Log your meals & activities to help me learn your patterns!</em></p>
                </div>
              </div>
            </div>
          </div>
          <div class="chat-input-container">
            <input type="text" id="chat-input" placeholder="Try: 'I had coffee and toast for breakfast'" class="chat-input">
            <button id="chat-send" class="chat-send-btn" data-tooltip="Send your message to Aura" data-tooltip-pos="left">
              <i class="ri-send-plane-2-fill"></i>
            </button>
          </div>
        </div>
      </section>

      <!-- BOTTOM SECTION: METRICS -->
      <section class="dashboard-bottom">
        <!-- HEALTH SCORE -->
        <div class="metric-card dashboard-card" data-tooltip="AI-calculated score based on glucose stability, time in range, and trend patterns. Higher is better!">
          <div class="metric-header">
            <span class="metric-icon"><i class="ri-heart-3-line"></i></span>
            <span class="metric-title">Health Score</span>
          </div>
          <div class="metric-body">
            <div class="score-circle-small">
              <svg viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" class="bg"></circle>
                <circle cx="50" cy="50" r="45" class="progress" id="score-circle-bottom"></circle>
              </svg>
              <span id="score-number-bottom" class="score-text">--</span>
            </div>
            <div class="metric-details">
              <span id="score-status-bottom" class="status-text">Analyzing...</span>
              <span id="score-explanation" class="trend-text">Loading...</span>
            </div>
          </div>
        </div>

        <!-- TIME IN RANGE -->
        <div class="metric-card dashboard-card" data-tooltip="Percentage of time your glucose stays within the target range (70-180 mg/dL). The ADA recommends >70% for optimal health.">
          <div class="metric-header">
            <span class="metric-icon"><i class="ri-time-line"></i></span>
            <span class="metric-title">Time in Range</span>
          </div>
          <div class="metric-body">
            <div class="big-value" id="time-in-range">--%</div>
            <div class="progress-bar-container">
              <div class="progress-bar" id="range-bar-bottom" style="width: 0%"></div>
            </div>
            <div class="metric-details">
              <span class="metric-sub">Target: &gt;70%</span>
              <span id="tir-explanation" class="trend-text">Loading...</span>
            </div>
          </div>
        </div>

        <!-- INSULIN SENSITIVITY -->
        <div class="metric-card dashboard-card" data-tooltip="Your Insulin Sensitivity Factor (ISF) - how much 1 unit of insulin lowers your blood glucose. This helps calculate correction doses.">
          <div class="metric-header">
            <span class="metric-icon"><i class="ri-drop-line"></i></span>
            <span class="metric-title">Insulin Sensitivity</span>
          </div>
          <div class="metric-body">
            <div id="isf-value" class="big-value">--</div>
            <span id="isf-sub" class="metric-sub">Log insulin to calculate</span>
            <div class="metric-details">
              <span id="isf-explanation" class="trend-text"><i class="ri-information-line"></i> Requires insulin data</span>
            </div>
          </div>
        </div>

        <!-- RISK ANALYSIS -->
        <div class="metric-card dashboard-card" data-tooltip="AI predicts hypoglycemia (low blood sugar) risk for the next 4 hours using pattern analysis and your recent trends">
          <div class="metric-header">
            <span class="metric-icon"><i class="ri-shield-check-line"></i></span>
            <span class="metric-title">Risk Analysis</span>
          </div>
          <div class="metric-body">
            <div id="risk-level" class="big-value" style="color: var(--health-good);">Analyzing...</div>
            <span id="risk-subtitle" class="metric-sub">Analyzing your data...</span>
            <div class="metric-details">
              <span id="risk-explanation" class="trend-text">Loading risk analysis...</span>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- ANALYTICS PAGE -->
    <main id="analyticsContainer" class="dashboard-container hidden" data-lenis-prevent>
      <header class="dashboard-header">
        <div class="user-welcome">
          <div class="user-avatar">
            <i class="ri-line-chart-line"></i>
          </div>
          <div class="welcome-text">
            <h1>Advanced Analytics</h1>
            <p class="date-text">Clinical-grade insights into your glucose patterns</p>
          </div>
        </div>
        <div class="header-actions">
          <select id="analytics-days" class="form-input" style="width: auto; padding: 8px 16px;">
            <option value="7">Last 7 Days</option>
            <option value="14" selected>Last 14 Days</option>
            <option value="30">Last 30 Days</option>
          </select>
          <button id="btn-refresh-analytics" class="action-btn" data-tooltip="Refresh analytics data">
            <i class="ri-refresh-line"></i>
            <span>Refresh</span>
          </button>
        </div>
      </header>

      <!-- Analytics Content -->
      <section class="analytics-grid">
        
        <!-- Clinical Metrics Row -->
        <div class="dashboard-card analytics-card clinical-metrics" data-tooltip="Key clinical indicators used by healthcare providers" data-tooltip-pos="bottom">
          <div class="card-header">
            <h3 class="card-title"><i class="ri-stethoscope-line"></i> Clinical Metrics</h3>
          </div>
          <div class="analytics-stats clinical-stats">
            <div class="stat-item gmi-stat" data-tooltip="Glucose Management Indicator - estimates your A1C from glucose data">
              <span class="stat-value" id="gmi-value">--</span>
              <span class="stat-label">GMI (est. A1C)</span>
              <span class="stat-unit">%</span>
            </div>
            <div class="stat-item cv-stat" data-tooltip="Coefficient of Variation - measures glucose stability. Below 36% is considered stable.">
              <span class="stat-value" id="cv-value">--</span>
              <span class="stat-label">CV (Variability)</span>
              <span class="stat-unit">%</span>
            </div>
            <div class="stat-item" data-tooltip="Mean of all glucose readings - target is 100-140 mg/dL">
              <span class="stat-value" id="avg-glucose">--</span>
              <span class="stat-label">Avg Glucose</span>
              <span class="stat-unit">mg/dL</span>
            </div>
            <div class="stat-item" data-tooltip="Total number of glucose measurements recorded">
              <span class="stat-value" id="readings-count">--</span>
              <span class="stat-label">Readings</span>
            </div>
          </div>
        </div>

        <!-- Time in Range Breakdown -->
        <div class="dashboard-card analytics-card tir-card" data-tooltip="Detailed breakdown of time spent in each glucose range (ADA guidelines)" data-tooltip-pos="bottom">
          <div class="card-header">
            <h3 class="card-title"><i class="ri-pie-chart-line"></i> Time in Range (TIR)</h3>
          </div>
          <div class="tir-breakdown">
            <div class="tir-visual">
              <div class="tir-bar-container">
                <div class="tir-segment very-high" id="tir-very-high" style="height: 5%"></div>
                <div class="tir-segment high" id="tir-high" style="height: 15%"></div>
                <div class="tir-segment in-range" id="tir-in-range" style="height: 70%"></div>
                <div class="tir-segment low" id="tir-low" style="height: 7%"></div>
                <div class="tir-segment very-low" id="tir-very-low" style="height: 3%"></div>
              </div>
              <div class="tir-labels">
                <div class="tir-label very-high">&gt;250 <span id="tir-very-high-pct">5%</span></div>
                <div class="tir-label high">180-250 <span id="tir-high-pct">15%</span></div>
                <div class="tir-label in-range">70-180 <span id="tir-in-range-pct">70%</span></div>
                <div class="tir-label low">54-70 <span id="tir-low-pct">7%</span></div>
                <div class="tir-label very-low">&lt;54 <span id="tir-very-low-pct">3%</span></div>
              </div>
            </div>
            <div class="tir-targets">
              <div class="target-item good">
                <i class="ri-checkbox-circle-fill"></i>
                <span>Goal: &gt;70% in range</span>
              </div>
              <div class="target-item warning">
                <i class="ri-alert-fill"></i>
                <span>Goal: &lt;4% below 70</span>
              </div>
            </div>
            <div id="tir-summary" class="tir-summary">
              <!-- Dynamically populated with TIR analysis -->
            </div>
          </div>
        </div>

        <!-- AGP Chart -->
        <div class="dashboard-card analytics-card full-width agp-card" data-tooltip="Ambulatory Glucose Profile - shows your typical glucose patterns throughout the day" data-tooltip-pos="bottom">
          <div class="card-header">
            <h3 class="card-title"><i class="ri-pulse-line"></i> Ambulatory Glucose Profile (AGP)</h3>
            <p class="card-subtitle">Your typical day - percentile curves show glucose variability patterns</p>
          </div>
          <div class="agp-chart-container">
            <canvas id="agpChart"></canvas>
          </div>
          <div class="agp-legend">
            <span class="legend-item"><span class="legend-line median"></span> Median (50th)</span>
            <span class="legend-item"><span class="legend-area iqr"></span> 25th-75th %ile</span>
            <span class="legend-item"><span class="legend-area range"></span> 10th-90th %ile</span>
          </div>
        </div>

        <!-- Dawn Phenomenon Detection -->
        <div class="dashboard-card analytics-card dawn-card" data-tooltip="Detection of early morning glucose rise (Dawn Phenomenon)" data-tooltip-pos="bottom">
          <div class="card-header">
            <h3 class="card-title"><i class="ri-sun-line"></i> Dawn Phenomenon</h3>
          </div>
          <div class="dawn-content" id="dawn-content">
            <div class="dawn-indicator">
              <div class="dawn-status" id="dawn-status">
                <i class="ri-loader-4-line spinning"></i>
                Analyzing...
              </div>
              <div class="dawn-details" id="dawn-details">
                <div class="dawn-stat">
                  <span class="label">Pre-dawn avg:</span>
                  <span class="value" id="dawn-pre">--</span>
                </div>
                <div class="dawn-stat">
                  <span class="label">Dawn avg:</span>
                  <span class="value" id="dawn-post">--</span>
                </div>
                <div class="dawn-stat">
                  <span class="label">Rise:</span>
                  <span class="value" id="dawn-rise">--</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Pattern Heatmap -->
        <div class="dashboard-card analytics-card heatmap-card" data-tooltip="Glucose patterns by day of week and hour - darker colors indicate higher glucose" data-tooltip-pos="bottom">
          <div class="card-header">
            <h3 class="card-title"><i class="ri-grid-line"></i> Weekly Pattern Heatmap</h3>
          </div>
          <div class="heatmap-container" id="heatmap-container">
            <div class="heatmap-loading">
              <i class="ri-loader-4-line spinning"></i>
              Loading pattern data...
            </div>
          </div>
        </div>

        <!-- Risk Analysis -->
        <div class="dashboard-card analytics-card risk-card" data-tooltip="Low and High Blood Glucose Risk Indices (LBGI/HBGI)" data-tooltip-pos="bottom">
          <div class="card-header">
            <h3 class="card-title"><i class="ri-shield-check-line"></i> Risk Analysis</h3>
          </div>
          <div class="risk-content">
            <div class="risk-item">
              <span class="risk-label">Low BG Index (LBGI)</span>
              <div class="risk-bar-container">
                <div class="risk-bar lbgi" id="lbgi-bar" style="width: 20%"></div>
              </div>
              <span class="risk-value" id="lbgi-value">--</span>
            </div>
            <div class="risk-item">
              <span class="risk-label">High BG Index (HBGI)</span>
              <div class="risk-bar-container">
                <div class="risk-bar hbgi" id="hbgi-bar" style="width: 30%"></div>
              </div>
              <span class="risk-value" id="hbgi-value">--</span>
            </div>
            <div class="risk-category" id="risk-category">
              <span class="category-badge low">Low Risk</span>
            </div>
          </div>
        </div>

        <!-- Time Period Analysis -->
        <div class="dashboard-card analytics-card full-width period-card" data-tooltip="Glucose statistics broken down by time of day" data-tooltip-pos="bottom">
          <div class="card-header">
            <h3 class="card-title"><i class="ri-time-line"></i> Time Period Analysis</h3>
          </div>
          <div class="period-grid" id="period-grid">
            <div class="period-item">
              <div class="period-icon"><i class="ri-moon-line"></i></div>
              <div class="period-name">Night</div>
              <div class="period-time">12-6 AM</div>
              <div class="period-avg" id="period-night">-- mg/dL</div>
            </div>
            <div class="period-item">
              <div class="period-icon"><i class="ri-sun-foggy-line"></i></div>
              <div class="period-name">Dawn</div>
              <div class="period-time">6-9 AM</div>
              <div class="period-avg" id="period-dawn">-- mg/dL</div>
            </div>
            <div class="period-item">
              <div class="period-icon"><i class="ri-sun-line"></i></div>
              <div class="period-name">Morning</div>
              <div class="period-time">9-12 PM</div>
              <div class="period-avg" id="period-morning">-- mg/dL</div>
            </div>
            <div class="period-item">
              <div class="period-icon"><i class="ri-sun-fill"></i></div>
              <div class="period-name">Afternoon</div>
              <div class="period-time">12-5 PM</div>
              <div class="period-avg" id="period-afternoon">-- mg/dL</div>
            </div>
            <div class="period-item">
              <div class="period-icon"><i class="ri-moon-foggy-line"></i></div>
              <div class="period-name">Evening</div>
              <div class="period-time">5-9 PM</div>
              <div class="period-avg" id="period-evening">-- mg/dL</div>
            </div>
            <div class="period-item">
              <div class="period-icon"><i class="ri-moon-clear-line"></i></div>
              <div class="period-name">Late Night</div>
              <div class="period-time">9-12 AM</div>
              <div class="period-avg" id="period-late_night">-- mg/dL</div>
            </div>
          </div>
        </div>

        <!-- Meal Impact Analysis -->
        <div class="dashboard-card analytics-card full-width" data-tooltip="Track what you eat to understand how different foods affect your glucose levels" data-tooltip-pos="bottom">
          <div class="card-header">
            <h3 class="card-title"><i class="ri-restaurant-line"></i> Recent Meal Logs</h3>
          </div>
          <div class="meal-logs" id="meal-logs">
            <p class="empty-state">No meal logs yet. Chat with Aura to log your meals!</p>
          </div>
        </div>

        <!-- Activity Log -->
        <div class="dashboard-card analytics-card full-width" data-tooltip="Exercise typically lowers blood glucose - track activities to see their impact" data-tooltip-pos="bottom">
          <div class="card-header">
            <h3 class="card-title"><i class="ri-run-line"></i> Activity History</h3>
          </div>
          <div class="activity-logs" id="activity-logs">
            <p class="empty-state">No activities logged yet. Tell Aura about your exercises!</p>
          </div>
        </div>
      </section>
    </main>

    <!-- SETTINGS PAGE -->
    <main id="settingsContainer" class="dashboard-container hidden" data-lenis-prevent>
      <header class="dashboard-header">
        <div class="user-welcome">
          <div class="user-avatar">
            <i class="ri-settings-3-line"></i>
          </div>
          <div class="welcome-text">
            <h1>Settings</h1>
            <p class="date-text">Manage your profile and preferences</p>
          </div>
        </div>
      </header>

      <!-- Settings Content -->
      <section class="settings-grid">
        <!-- Profile Settings -->
        <div class="dashboard-card settings-card" data-tooltip="Your personal information helps Aura provide more accurate health recommendations" data-tooltip-pos="bottom">
          <div class="card-header">
            <h3 class="card-title"><i class="ri-user-line"></i> Profile</h3>
          </div>
          <form id="profileForm" class="settings-form">
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Name</label>
                <input type="text" id="settings-name" class="form-input" placeholder="Your name">
              </div>
              <div class="form-group">
                <label class="form-label">Age</label>
                <input type="number" id="settings-age" class="form-input" placeholder="Your age">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Weight (kg)</label>
                <input type="number" id="settings-weight" class="form-input" step="0.1" placeholder="Weight">
              </div>
              <div class="form-group">
                <label class="form-label">Height (cm)</label>
                <input type="number" id="settings-height" class="form-input" step="0.1" placeholder="Height">
              </div>
            </div>
            <button type="submit" class="btn btn-primary">Save Profile</button>
          </form>
        </div>

        <!-- Glucose Targets -->
        <div class="dashboard-card settings-card" data-tooltip="Set your personalized glucose target range - typically 70-180 mg/dL but consult your doctor" data-tooltip-pos="bottom">
          <div class="card-header">
            <h3 class="card-title"><i class="ri-focus-3-line"></i> Glucose Targets</h3>
          </div>
          <form id="targetsForm" class="settings-form">
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" data-tooltip="Below this value triggers hypoglycemia warning">Low Threshold (mg/dL)</label>
                <input type="number" id="target-low" class="form-input" value="70">
              </div>
              <div class="form-group">
                <label class="form-label" data-tooltip="Above this value triggers hyperglycemia warning">High Threshold (mg/dL)</label>
                <input type="number" id="target-high" class="form-input" value="180">
              </div>
            </div>
            <div class="form-group">
              <label class="form-label">Target Range</label>
              <input type="text" class="form-input" value="70 - 180 mg/dL" disabled>
            </div>
            <button type="submit" class="btn btn-primary">Save Targets</button>
          </form>
        </div>

        <!-- Insulin Settings -->
        <div class="dashboard-card settings-card" data-tooltip="These values help calculate insulin doses - always verify with your healthcare provider" data-tooltip-pos="bottom">
          <div class="card-header">
            <h3 class="card-title"><i class="ri-medicine-bottle-line"></i> Insulin Settings</h3>
          </div>
          <form id="insulinForm" class="settings-form">
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" data-tooltip="I:C Ratio - how many grams of carbs 1 unit of insulin covers">Carb Ratio (1 unit per X grams)</label>
                <input type="number" id="carb-ratio" class="form-input" value="10">
              </div>
              <div class="form-group">
                <label class="form-label" data-tooltip="ISF - how much 1 unit of insulin lowers your blood glucose">Correction Factor</label>
                <input type="number" id="correction-factor" class="form-input" value="50">
              </div>
            </div>
            <button type="submit" class="btn btn-primary">Save Insulin Settings</button>
          </form>
        </div>

        <!-- Data Management -->
        <div class="dashboard-card settings-card" data-tooltip="Export your data for backup or sharing with healthcare providers" data-tooltip-pos="bottom">
          <div class="card-header">
            <h3 class="card-title"><i class="ri-database-2-line"></i> Data Management</h3>
          </div>
          <div class="data-actions">
            <button class="data-btn export" id="btn-export-data">
              <i class="ri-download-line"></i>
              <span>Export All Data</span>
            </button>
            <button class="data-btn danger" id="btn-clear-data">
              <i class="ri-delete-bin-line"></i>
              <span>Clear Demo Data</span>
            </button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- SCRIPTS -->
  <script src="js/script.js?v=32"></script>
</body>

</html>